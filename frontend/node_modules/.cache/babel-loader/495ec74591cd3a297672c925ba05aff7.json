{"ast":null,"code":"import _regeneratorRuntime from\"D:/Web Dev/Projects/travel-app/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Web Dev/Projects/travel-app/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/Web Dev/Projects/travel-app/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"D:/Web Dev/Projects/travel-app/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Web Dev/Projects/travel-app/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/Web Dev/Projects/travel-app/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Web Dev/Projects/travel-app/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import Select from'react-select';import axios from'axios';import'bootstrap/dist/css/bootstrap.min.css';import Result from\"./Result\";import Footer from\"./Footer\";import Radio from\"./Radio\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(e){e.preventDefault();var _this$state=_this.state,src=_this$state.src,dest=_this$state.dest,choice=_this$state.choice;var route={src:src,dest:dest,choice:choice};axios.post('https://back-travel-app.herokuapp.com/find-route',route).then(function(res){_this.setState({data:res.data});}).catch(function(err){_this.setState({errMessage:err.message});});};_this.state={selectOptions:[],src:\"\",dest:\"\",choice:\"Fastest\",data:null,errMessage:\"\"};return _this;}_createClass(App,[{key:\"handleChangeSrc\",value:function handleChangeSrc(e){this.setState({src:e.value});//console.log(this.state);\n}},{key:\"handleChangeDest\",value:function handleChangeDest(e){this.setState({dest:e.label});//console.log(this.state);\n}},{key:\"getOptions\",value:function(){var _getOptions=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data,options;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://back-travel-app.herokuapp.com/places');case 2:res=_context.sent;data=res.data;options=data.map(function(d){return{\"value\":d.city,\"label\":d.city};});this.setState({selectOptions:options});case 6:case\"end\":return _context.stop();}}},_callee,this);}));function getOptions(){return _getOptions.apply(this,arguments);}return getOptions;}()},{key:\"componentDidMount\",value:function componentDidMount(){this.getOptions();}},{key:\"render\",value:function render(){//console.log(REACT_APP_BACKEND_URL);\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Travel App\"})}),this.state.data?/*#__PURE__*/_jsx(Result,{data:this.state.data}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-4\",children:/*#__PURE__*/_jsx(Select,{options:this.state.selectOptions,onChange:this.handleChangeSrc.bind(this),placeholder:\"Select Source\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-right fa-2x\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-4\",children:/*#__PURE__*/_jsx(Select,{options:this.state.selectOptions,onChange:this.handleChangeDest.bind(this),placeholder:\"Select Destination\"})})]})}),/*#__PURE__*/_jsx(Radio,{choice:this.handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-dark btn-lg\",type:\"submit\",children:\"Find Route\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),this.state.errMessage&&/*#__PURE__*/_jsx(\"h6\",{className:\"error\",style:{\"color\":\"red\"},children:\" Either the source and destination are same, or they are not chosen. \"})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return App;}(Component);export{App as default};","map":{"version":3,"names":["React","Component","Select","axios","Result","Footer","Radio","App","props","handleChange","e","target","name","value","setState","handleSubmit","preventDefault","state","src","dest","choice","route","post","then","res","data","catch","err","errMessage","message","selectOptions","label","get","options","map","d","city","getOptions","handleChangeSrc","bind","handleChangeDest"],"sources":["D:/Web Dev/Projects/travel-app/frontend/src/components/App.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport Select from 'react-select';\r\nimport axios from 'axios';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Result from \"./Result\";\r\nimport Footer from \"./Footer\";\r\nimport Radio from \"./Radio\";\r\n\r\nexport default class App extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectOptions : [],\r\n      src: \"\",\r\n      dest: \"\",\r\n      choice: \"Fastest\",\r\n      data : null,\r\n      errMessage: \"\"\r\n    };\r\n  }\r\n\r\n  handleChangeSrc(e){\r\n      this.setState({src:e.value})\r\n      //console.log(this.state);\r\n  }\r\n\r\n  handleChangeDest(e){\r\n      this.setState({dest:e.label})\r\n      //console.log(this.state);\r\n  }\r\n\r\n  handleChange = e => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const { src, dest, choice } = this.state;\r\n\r\n    const route = {\r\n      src,\r\n      dest,\r\n      choice\r\n    };\r\n\r\n    axios\r\n      .post('https://back-travel-app.herokuapp.com/find-route', route)\r\n      .then((res) => {\r\n        this.setState({data:res.data})\r\n      })\r\n      .catch(err => {\r\n        this.setState({errMessage:err.message});\r\n      });\r\n  };\r\n\r\n  async getOptions(){\r\n    const res = await axios.get('https://back-travel-app.herokuapp.com/places')\r\n    const data = res.data;\r\n\r\n    const options = data.map(d => ({\r\n    \"value\" : d.city,\r\n    \"label\" : d.city\r\n    }))\r\n\r\n    this.setState({selectOptions: options})\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.getOptions()\r\n  }\r\n\r\n  render() {\r\n    //console.log(REACT_APP_BACKEND_URL);\r\n    return (\r\n      <div>\r\n        <div className=\"heading\">\r\n          <h1>Travel App</h1>\r\n        </div>\r\n        {\r\n          this.state.data ? <Result data={this.state.data} />\r\n          : <div>\r\n            <form onSubmit={this.handleSubmit}>\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-sm-4\">\r\n                        <Select options={this.state.selectOptions} onChange={this.handleChangeSrc.bind(this)} placeholder=\"Select Source\" />\r\n                    </div>\r\n                    <div className=\"col-sm-4\"><i className=\"fas fa-arrow-right fa-2x\"></i></div>\r\n                    <div className=\"col-sm-4\">\r\n                        <Select options={this.state.selectOptions} onChange={this.handleChangeDest.bind(this)} placeholder=\"Select Destination\" />\r\n                    </div>\r\n                </div>\r\n              </div>\r\n              <Radio choice={this.handleChange} />\r\n              <div className=\"container\">\r\n                <button className=\"btn btn-primary btn-dark btn-lg\" type=\"submit\">Find Route</button>\r\n              </div>\r\n            </form>\r\n            <br />\r\n            { this.state.errMessage && <h6 className=\"error\" style={{\"color\":\"red\"}}> Either the source and destination are same, or they are not chosen. </h6>}\r\n          </div>\r\n        }\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}